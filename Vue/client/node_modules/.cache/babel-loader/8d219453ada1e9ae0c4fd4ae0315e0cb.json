{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/Stage/App/xr-place-application/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.reflect.has.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.reflect.to-string-tag.js\";\nimport \"core-js/modules/es.reflect.get.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.reflect.get-own-property-descriptor.js\";\nimport \"core-js/modules/es.object.get-prototype-of.js\";\nexport function useForwardRef(target) {\n  for (var _len = arguments.length, refs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    refs[_key - 1] = arguments[_key];\n  }\n\n  return new Proxy(target, {\n    get: function get(target, key) {\n      if (Reflect.has(target, key)) {\n        return Reflect.get(target, key);\n      }\n\n      var _iterator = _createForOfIteratorHelper(refs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var ref = _step.value;\n\n          if (ref.value && Reflect.has(ref.value, key)) {\n            var val = Reflect.get(ref.value, key);\n            return typeof val === 'function' ? val.bind(ref.value) : val;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    },\n    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, key) {\n      var descriptor = Reflect.getOwnPropertyDescriptor(target, key);\n      if (descriptor) return descriptor;\n\n      var _iterator2 = _createForOfIteratorHelper(refs),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var ref = _step2.value;\n          if (!ref.value) continue;\n\n          var _descriptor = Reflect.getOwnPropertyDescriptor(ref.value, key);\n\n          if (_descriptor) return _descriptor;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      var _iterator3 = _createForOfIteratorHelper(refs),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _ref = _step3.value;\n          var obj = _ref.value && Object.getPrototypeOf(_ref.value);\n          if (!obj) continue;\n\n          var _descriptor2 = Reflect.getOwnPropertyDescriptor(obj, key);\n\n          if (_descriptor2) return _descriptor2;\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return undefined;\n    }\n  });\n}","map":{"version":3,"mappings":";;;;;;;;AAGA,OAAO,SAASA,aAAT,CACLC,MADK,EAG0C;AAAA,oCAD5CC,IAC4C;AAD5CA,QAC4C,UAD5CA,GAC4CC,eAD5CD;AAC4C;;AAC/C,SAAO,IAAIE,KAAJ,CAAUH,MAAV,EAAkB;AACvBI,OADuB,eAClBJ,MADkB,EACVK,GADU,EACL;AAChB,UAAIC,OAAO,CAACC,GAARD,CAAYN,MAAZM,EAAoBD,GAApBC,CAAJ,EAA8B;AAC5B,eAAOA,OAAO,CAACF,GAARE,CAAYN,MAAZM,EAAoBD,GAApBC,CAAP;AACD;;AAHe,iDAIEL,IAJF;AAAA;;AAAA;AAIhB,4DAAwB;AAAA,cAAbO,GAAa;;AACtB,cAAIA,GAAG,CAACC,KAAJD,IAAaF,OAAO,CAACC,GAARD,CAAYE,GAAG,CAACC,KAAhBH,EAAuBD,GAAvBC,CAAjB,EAA8C;AAC5C,gBAAMI,GAAG,GAAGJ,OAAO,CAACF,GAARE,CAAYE,GAAG,CAACC,KAAhBH,EAAuBD,GAAvBC,CAAZ;AACA,mBAAO,OAAOI,GAAP,KAAe,UAAf,GACHA,GAAG,CAACC,IAAJD,CAASF,GAAG,CAACC,KAAbC,CADG,GAEHA,GAFJ;AAGD;AACF;AAXe;AAAA;AAAA;AAAA;AAAA;AADK;AAcvBE,4BAduB,oCAcGZ,MAdH,EAcWK,GAdX,EAcgB;AACrC,UAAMQ,UAAU,GAAGP,OAAO,CAACM,wBAARN,CAAiCN,MAAjCM,EAAyCD,GAAzCC,CAAnB;AACA,UAAIO,UAAJ,EAAgB,OAAOA,UAAP;;AAFqB,kDAInBZ,IAJmB;AAAA;;AAAA;AAIrC,+DAAwB;AAAA,cAAbO,GAAa;AACtB,cAAI,CAACA,GAAG,CAACC,KAAT,EAAgB;;AAChB,cAAMI,WAAU,GAAGP,OAAO,CAACM,wBAARN,CAAiCE,GAAG,CAACC,KAArCH,EAA4CD,GAA5CC,CAAnB;;AACA,cAAIO,WAAJ,EAAgB,OAAOA,WAAP;AACjB;AARoC;AAAA;AAAA;AAAA;AAAA;;AAAA,kDASnBZ,IATmB;AAAA;;AAAA;AASrC,+DAAwB;AAAA,cAAbO,IAAa;AACtB,cAAMM,GAAG,GAAGN,IAAG,CAACC,KAAJD,IAAaO,MAAM,CAACC,cAAPD,CAAsBP,IAAG,CAACC,KAA1BM,CAAzB;AACA,cAAI,CAACD,GAAL,EAAU;;AACV,cAAMD,YAAU,GAAGP,OAAO,CAACM,wBAARN,CAAiCQ,GAAjCR,EAAsCD,GAAtCC,CAAnB;;AACA,cAAIO,YAAJ,EAAgB,OAAOA,YAAP;AACjB;AAdoC;AAAA;AAAA;AAAA;AAAA;;AAerC,aAAOI,SAAP;AACD;AA9BsB,GAAlB,CAAP;AAgCD","names":["useForwardRef","target","refs","arguments","Proxy","get","key","Reflect","has","ref","value","val","bind","getOwnPropertyDescriptor","descriptor","obj","Object","getPrototypeOf","undefined"],"sources":["../../src/composables/forwardRef.ts"],"sourcesContent":["import type { Ref, UnwrapRef } from 'vue'\nimport type { UnionToIntersection } from '@/util'\n\nexport function useForwardRef<T extends {}, U extends Ref<{} | undefined>[]> (\n  target: T,\n  ...refs: U\n): T & UnwrapRef<UnionToIntersection<U[number]>> {\n  return new Proxy(target, {\n    get (target, key) {\n      if (Reflect.has(target, key)) {\n        return Reflect.get(target, key)\n      }\n      for (const ref of refs) {\n        if (ref.value && Reflect.has(ref.value, key)) {\n          const val = Reflect.get(ref.value, key)\n          return typeof val === 'function'\n            ? val.bind(ref.value)\n            : val\n        }\n      }\n    },\n    getOwnPropertyDescriptor (target, key) {\n      const descriptor = Reflect.getOwnPropertyDescriptor(target, key)\n      if (descriptor) return descriptor\n\n      for (const ref of refs) {\n        if (!ref.value) continue\n        const descriptor = Reflect.getOwnPropertyDescriptor(ref.value, key)\n        if (descriptor) return descriptor\n      }\n      for (const ref of refs) {\n        const obj = ref.value && Object.getPrototypeOf(ref.value)\n        if (!obj) continue\n        const descriptor = Reflect.getOwnPropertyDescriptor(obj, key)\n        if (descriptor) return descriptor\n      }\n      return undefined\n    },\n  }) as any\n}\n"]},"metadata":{},"sourceType":"module"}