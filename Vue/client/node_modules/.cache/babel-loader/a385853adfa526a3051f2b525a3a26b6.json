{"ast":null,"code":"import _toConsumableArray from \"D:/Stage/App/xr-place-application/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"D:/Stage/App/xr-place-application/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _slicedToArray from \"D:/Stage/App/xr-place-application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"D:/Stage/App/xr-place-application/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.flat-map.js\";\nimport \"core-js/modules/es.array.unscopables.flat-map.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\n// Utilities\nimport { computed, inject, provide, ref, watch, watchEffect } from 'vue';\nimport { colorToInt, colorToRGB, createRange, darken, getCurrentInstance, getLuma, IN_BROWSER, intToHex, lighten, mergeDeep, propsFactory } from \"../util/index.mjs\";\nimport { APCAcontrast } from \"../util/color/APCA.mjs\"; // Types\n\nexport var ThemeSymbol = Symbol[\"for\"]('vuetify:theme');\nexport var makeThemeProps = propsFactory({\n  theme: String\n}, 'theme');\nvar defaultThemeOptions = {\n  defaultTheme: 'light',\n  variations: {\n    colors: [],\n    lighten: 0,\n    darken: 0\n  },\n  themes: {\n    light: {\n      dark: false,\n      colors: {\n        background: '#FFFFFF',\n        surface: '#FFFFFF',\n        'surface-variant': '#424242',\n        'on-surface-variant': '#EEEEEE',\n        primary: '#6200EE',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC6',\n        'secondary-darken-1': '#018786',\n        error: '#B00020',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00'\n      },\n      variables: {\n        'border-color': '#000000',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'idle-opacity': 0.04,\n        'hover-opacity': 0.04,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'activated-opacity': 0.12,\n        'pressed-opacity': 0.12,\n        'dragged-opacity': 0.08,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#C2C2C2'\n      }\n    },\n    dark: {\n      dark: true,\n      colors: {\n        background: '#121212',\n        surface: '#212121',\n        'surface-variant': '#BDBDBD',\n        'on-surface-variant': '#424242',\n        primary: '#BB86FC',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC5',\n        'secondary-darken-1': '#03DAC5',\n        error: '#CF6679',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00'\n      },\n      variables: {\n        'border-color': '#FFFFFF',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'idle-opacity': 0.10,\n        'hover-opacity': 0.04,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'activated-opacity': 0.12,\n        'pressed-opacity': 0.16,\n        'dragged-opacity': 0.08,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#B7B7B7'\n      }\n    }\n  }\n};\n\nvar parseThemeOptions = function parseThemeOptions() {\n  var _options$themes;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultThemeOptions;\n  if (!options) return _objectSpread(_objectSpread({}, defaultThemeOptions), {}, {\n    isDisabled: true\n  });\n  var themes = Object.entries((_options$themes = options.themes) != null ? _options$themes : {}).reduce(function (obj, _ref) {\n    var _defaultThemeOptions$, _defaultThemeOptions$2;\n\n    var _ref3 = _slicedToArray(_ref, 2),\n        key = _ref3[0],\n        theme = _ref3[1];\n\n    var defaultTheme = theme.dark ? (_defaultThemeOptions$ = defaultThemeOptions.themes) == null ? void 0 : _defaultThemeOptions$.dark : (_defaultThemeOptions$2 = defaultThemeOptions.themes) == null ? void 0 : _defaultThemeOptions$2.light;\n    obj[key] = mergeDeep(defaultTheme, theme);\n    return obj;\n  }, {});\n  return mergeDeep(defaultThemeOptions, _objectSpread(_objectSpread({}, options), {}, {\n    themes: themes\n  }));\n}; // Composables\n\n\nexport function createTheme(app, options) {\n  var head = app._context.provides.usehead;\n  var parsedOptions = parseThemeOptions(options);\n  var styleEl = ref();\n  var current = ref(parsedOptions.defaultTheme);\n  var themes = ref(parsedOptions.themes);\n  var variations = ref(parsedOptions.variations);\n  var computedThemes = computed(function () {\n    return Object.entries(themes.value).reduce(function (obj, _ref2) {\n      var _parsedOptions$variat;\n\n      var _ref4 = _slicedToArray(_ref2, 2),\n          name = _ref4[0],\n          original = _ref4[1];\n\n      var theme = _objectSpread(_objectSpread({}, original), {}, {\n        colors: _objectSpread(_objectSpread({}, original.colors), ((_parsedOptions$variat = parsedOptions.variations.colors) != null ? _parsedOptions$variat : []).reduce(function (obj, color) {\n          return _objectSpread(_objectSpread({}, obj), genColorVariations(color, original.colors[color]));\n        }, {}))\n      });\n\n      for (var _i = 0, _Object$keys = Object.keys(theme.colors); _i < _Object$keys.length; _i++) {\n        var color = _Object$keys[_i];\n        if (/on-[a-z]/.test(color) || theme.colors[\"on-\".concat(color)]) continue;\n        var onColor = \"on-\".concat(color);\n        var colorVal = colorToInt(theme.colors[color]);\n        var blackContrast = Math.abs(APCAcontrast(0, colorVal));\n        var whiteContrast = Math.abs(APCAcontrast(0xffffff, colorVal)); // TODO: warn about poor color selections\n        // const contrastAsText = Math.abs(APCAcontrast(colorVal, colorToInt(theme.colors.background)))\n        // const minContrast = Math.max(blackContrast, whiteContrast)\n        // if (minContrast < 60) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast (${minContrast.toFixed()}%)`)\n        // } else if (contrastAsText < 60 && !['background', 'surface'].includes(color)) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast as text (${contrastAsText.toFixed()}%)`)\n        // }\n        // Prefer white text if both have an acceptable contrast ratio\n\n        theme.colors[onColor] = whiteContrast > Math.min(blackContrast, 50) ? '#fff' : '#000';\n      }\n\n      obj[name] = theme;\n      return obj;\n    }, {});\n  });\n\n  function genColorVariations(name, color) {\n    var obj = {};\n\n    for (var _i2 = 0, _arr = ['lighten', 'darken']; _i2 < _arr.length; _i2++) {\n      var variation = _arr[_i2];\n      var fn = variation === 'lighten' ? lighten : darken;\n\n      var _iterator = _createForOfIteratorHelper(createRange(variations.value[variation], 1)),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var amount = _step.value;\n          obj[\"\".concat(name, \"-\").concat(variation, \"-\").concat(amount)] = intToHex(fn(colorToInt(color), amount));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    return obj;\n  }\n\n  var styles = computed(function () {\n    var lines = [];\n\n    var _loop = function _loop() {\n      var themeName = _Object$keys2[_i3];\n      var variables = computedThemes.value[themeName].variables;\n      lines.push.apply(lines, _toConsumableArray(createCssClass(\".v-theme--\".concat(themeName), [].concat(_toConsumableArray(genCssVariables(themeName)), _toConsumableArray(Object.keys(variables).map(function (key) {\n        var value = variables[key];\n        var color = typeof value === 'string' && value.startsWith('#') ? colorToRGB(value) : undefined;\n        var rgb = color ? \"\".concat(color.r, \", \").concat(color.g, \", \").concat(color.b) : undefined;\n        return \"--v-\".concat(key, \": \").concat(rgb != null ? rgb : value);\n      }))))));\n    };\n\n    for (var _i3 = 0, _Object$keys2 = Object.keys(computedThemes.value); _i3 < _Object$keys2.length; _i3++) {\n      _loop();\n    }\n\n    var colors = new Set(Object.values(computedThemes.value).flatMap(function (theme) {\n      return Object.keys(theme.colors);\n    }));\n\n    var _iterator2 = _createForOfIteratorHelper(colors),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var key = _step2.value;\n\n        if (/on-[a-z]/.test(key)) {\n          lines.push.apply(lines, _toConsumableArray(createCssClass(\".\".concat(key), [\"color: rgb(var(--v-theme-\".concat(key, \")) !important\")])));\n        } else {\n          lines.push.apply(lines, _toConsumableArray(createCssClass(\".bg-\".concat(key), [\"--v-theme-overlay-multiplier: var(--v-theme-\".concat(key, \"-overlay-multiplier)\"), \"background: rgb(var(--v-theme-\".concat(key, \")) !important\"), \"color: rgb(var(--v-theme-on-\".concat(key, \")) !important\")])).concat(_toConsumableArray(createCssClass(\".text-\".concat(key), [\"color: rgb(var(--v-theme-\".concat(key, \")) !important\")])), _toConsumableArray(createCssClass(\".border-\".concat(key), [\"--v-border-color: var(--v-theme-\".concat(key, \")\")]))));\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return lines.map(function (str, i) {\n      return i === 0 ? str : \"    \".concat(str);\n    }).join('');\n  });\n\n  function genCssVariables(name) {\n    var theme = computedThemes.value[name];\n    if (!theme) throw new Error(\"Could not find theme \".concat(name));\n    var lightOverlay = theme.dark ? 2 : 1;\n    var darkOverlay = theme.dark ? 1 : 2;\n    var variables = [];\n\n    for (var _i4 = 0, _Object$entries = Object.entries(theme.colors); _i4 < _Object$entries.length; _i4++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i4], 2),\n          key = _Object$entries$_i[0],\n          value = _Object$entries$_i[1];\n\n      var rgb = colorToRGB(value);\n      variables.push(\"--v-theme-\".concat(key, \": \").concat(rgb.r, \",\").concat(rgb.g, \",\").concat(rgb.b));\n\n      if (!key.startsWith('on-')) {\n        variables.push(\"--v-theme-\".concat(key, \"-overlay-multiplier: \").concat(getLuma(value) > 0.18 ? lightOverlay : darkOverlay));\n      }\n    }\n\n    return variables;\n  }\n\n  function createCssClass(selector, content) {\n    return [\"\".concat(selector, \" {\\n\")].concat(_toConsumableArray(content.map(function (line) {\n      return \"  \".concat(line, \";\\n\");\n    })), ['}\\n']);\n  }\n\n  if (head) {\n    head.addHeadObjs(computed(function () {\n      return {\n        style: [{\n          children: styles.value,\n          type: 'text/css',\n          id: 'vuetify-theme-stylesheet'\n        }]\n      };\n    }));\n\n    if (IN_BROWSER) {\n      watchEffect(function () {\n        return head.updateDOM();\n      });\n    }\n  } else {\n    var updateStyles = function updateStyles() {\n      if (parsedOptions.isDisabled) return;\n      genStyleElement();\n      if (styleEl.value) styleEl.value.innerHTML = styles.value;\n    };\n\n    var genStyleElement = function genStyleElement() {\n      if (typeof document === 'undefined' || styleEl.value) return;\n      var el = document.createElement('style');\n      el.type = 'text/css';\n      el.id = 'vuetify-theme-stylesheet';\n      styleEl.value = el;\n      document.head.appendChild(styleEl.value);\n    };\n\n    watch(themes, updateStyles, {\n      deep: true,\n      immediate: true\n    });\n  }\n\n  return {\n    isDisabled: parsedOptions.isDisabled,\n    themes: computedThemes,\n    setTheme: function setTheme(key, theme) {\n      return themes.value[key] = theme;\n    },\n    getTheme: function getTheme(key) {\n      return computedThemes.value[key];\n    },\n    current: current,\n    themeClasses: computed(function () {\n      return parsedOptions.isDisabled ? undefined : \"v-theme--\".concat(current.value);\n    }),\n    styles: styles\n  };\n}\nexport function provideTheme(props) {\n  getCurrentInstance('provideTheme');\n  var theme = inject(ThemeSymbol, null);\n  if (!theme) throw new Error('Could not find Vuetify theme injection');\n  var current = computed(function () {\n    var _props$theme;\n\n    return (_props$theme = props.theme) != null ? _props$theme : theme == null ? void 0 : theme.current.value;\n  });\n  var themeClasses = computed(function () {\n    return theme.isDisabled ? undefined : \"v-theme--\".concat(current.value);\n  });\n\n  var newTheme = _objectSpread(_objectSpread({}, theme), {}, {\n    current: current,\n    themeClasses: themeClasses\n  });\n\n  provide(ThemeSymbol, newTheme);\n  return newTheme;\n}\nexport function useTheme() {\n  getCurrentInstance('useTheme');\n  var theme = inject(ThemeSymbol, null);\n  if (!theme) throw new Error('Could not find Vuetify theme injection');\n  return theme;\n}","map":{"version":3,"mappings":"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","names":["computed","inject","provide","ref","watch","watchEffect","colorToInt","colorToRGB","createRange","darken","getCurrentInstance","getLuma","IN_BROWSER","intToHex","lighten","mergeDeep","propsFactory","APCAcontrast","ThemeSymbol","Symbol","makeThemeProps","theme","String","defaultThemeOptions","defaultTheme","variations","colors","themes","light","dark","background","surface","primary","secondary","error","info","success","warning","variables","parseThemeOptions","options","isDisabled","Object","entries","reduce","obj","key","_defaultThemeOptions$","_defaultThemeOptions$2","createTheme","app","head","_context","provides","usehead","parsedOptions","styleEl","current","computedThemes","value","name","original","color","genColorVariations","keys","test","onColor","colorVal","blackContrast","Math","abs","whiteContrast","min","variation","fn","amount","styles","lines","themeName","push","createCssClass","genCssVariables","map","startsWith","undefined","rgb","r","g","b","Set","values","flatMap","str","i","join","Error","lightOverlay","darkOverlay","selector","content","line","addHeadObjs","style","children","type","id","updateDOM","updateStyles","genStyleElement","innerHTML","document","el","createElement","appendChild","deep","immediate","setTheme","getTheme","themeClasses","provideTheme","props","newTheme","useTheme"],"sources":["../../src/composables/theme.ts"],"sourcesContent":["// Utilities\nimport { computed, inject, provide, ref, watch, watchEffect } from 'vue'\nimport {\n  colorToInt,\n  colorToRGB,\n  createRange,\n  darken,\n  getCurrentInstance,\n  getLuma,\n  IN_BROWSER,\n  intToHex,\n  lighten,\n  mergeDeep,\n  propsFactory,\n} from '@/util'\nimport { APCAcontrast } from '@/util/color/APCA'\n\n// Types\nimport type { App, InjectionKey, Ref } from 'vue'\nimport type { HeadClient } from '@vueuse/head'\n\ntype DeepPartial<T> = T extends object ? { [P in keyof T]?: DeepPartial<T[P]> } : T\n\ninterface BaseColors {\n  background: string\n  surface: string\n  primary: string\n  secondary: string\n  success: string\n  warning: string\n  error: string\n  info: string\n}\n\ninterface OnColors {\n  'on-background': string\n  'on-surface': string\n  'on-primary': string\n  'on-secondary': string\n  'on-success': string\n  'on-warning': string\n  'on-error': string\n  'on-info': string\n}\n\nexport interface Colors extends BaseColors, OnColors {\n  [key: string]: string\n}\n\ninterface InternalThemeDefinition {\n  dark: boolean\n  colors: Colors\n  variables: Record<string, string | number>\n}\n\ninterface VariationsOptions {\n  colors: string[]\n  lighten: number\n  darken: number\n}\n\ninterface InternalThemeOptions {\n  isDisabled: boolean\n  defaultTheme: string\n  variations: VariationsOptions\n  themes: Record<string, InternalThemeDefinition>\n}\n\nexport type ThemeDefinition = DeepPartial<InternalThemeDefinition>\n\nexport type ThemeOptions = false | {\n  defaultTheme?: string\n  variations?: false | VariationsOptions\n  themes?: Record<string, ThemeDefinition>\n}\n\nexport interface ThemeInstance {\n  isDisabled: boolean\n  themes: Ref<Record<string, InternalThemeDefinition>>\n  current: Ref<string>\n  themeClasses: Ref<string | undefined>\n  setTheme: (key: string, theme: InternalThemeDefinition) => void\n  getTheme: (key: string) => InternalThemeDefinition\n  styles: Ref<string>\n}\n\nexport const ThemeSymbol: InjectionKey<ThemeInstance> = Symbol.for('vuetify:theme')\n\nexport const makeThemeProps = propsFactory({\n  theme: String,\n}, 'theme')\n\nconst defaultThemeOptions: ThemeOptions = {\n  defaultTheme: 'light',\n  variations: { colors: [], lighten: 0, darken: 0 },\n  themes: {\n    light: {\n      dark: false,\n      colors: {\n        background: '#FFFFFF',\n        surface: '#FFFFFF',\n        'surface-variant': '#424242',\n        'on-surface-variant': '#EEEEEE',\n        primary: '#6200EE',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC6',\n        'secondary-darken-1': '#018786',\n        error: '#B00020',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      variables: {\n        'border-color': '#000000',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'idle-opacity': 0.04,\n        'hover-opacity': 0.04,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'activated-opacity': 0.12,\n        'pressed-opacity': 0.12,\n        'dragged-opacity': 0.08,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#C2C2C2',\n      },\n    },\n    dark: {\n      dark: true,\n      colors: {\n        background: '#121212',\n        surface: '#212121',\n        'surface-variant': '#BDBDBD',\n        'on-surface-variant': '#424242',\n        primary: '#BB86FC',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC5',\n        'secondary-darken-1': '#03DAC5',\n        error: '#CF6679',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      variables: {\n        'border-color': '#FFFFFF',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'idle-opacity': 0.10,\n        'hover-opacity': 0.04,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'activated-opacity': 0.12,\n        'pressed-opacity': 0.16,\n        'dragged-opacity': 0.08,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#B7B7B7',\n      },\n    },\n  },\n}\n\nconst parseThemeOptions = (options: ThemeOptions = defaultThemeOptions): InternalThemeOptions => {\n  if (!options) return { ...defaultThemeOptions, isDisabled: true } as InternalThemeOptions\n\n  const themes = Object.entries(options.themes ?? {}).reduce((obj, [key, theme]) => {\n    const defaultTheme = theme.dark ? defaultThemeOptions.themes?.dark : defaultThemeOptions.themes?.light\n    obj[key] = mergeDeep(defaultTheme, theme)\n    return obj\n  }, {} as Record<string, ThemeDefinition>)\n\n  return mergeDeep(\n    defaultThemeOptions,\n    { ...options, themes },\n  ) as InternalThemeOptions\n}\n\n// Composables\nexport function createTheme (app: App, options?: ThemeOptions): ThemeInstance {\n  const head = app._context.provides.usehead as HeadClient | undefined\n  const parsedOptions = parseThemeOptions(options)\n  const styleEl = ref<HTMLStyleElement>()\n  const current = ref(parsedOptions.defaultTheme)\n  const themes = ref(parsedOptions.themes)\n  const variations = ref(parsedOptions.variations)\n\n  const computedThemes = computed(() => {\n    return Object.entries(themes.value).reduce((obj, [name, original]) => {\n      const theme: InternalThemeDefinition = {\n        ...original,\n        colors: {\n          ...original.colors,\n          ...(parsedOptions.variations.colors ?? []).reduce((obj, color) => {\n            return { ...obj, ...genColorVariations(color, original.colors[color]!) }\n          }, {}),\n        },\n      }\n\n      for (const color of Object.keys(theme.colors)) {\n        if (/on-[a-z]/.test(color) || theme.colors[`on-${color}`]) continue\n\n        const onColor = `on-${color}` as keyof OnColors\n        const colorVal = colorToInt(theme.colors[color]!)\n\n        const blackContrast = Math.abs(APCAcontrast(0, colorVal))\n        const whiteContrast = Math.abs(APCAcontrast(0xffffff, colorVal))\n\n        // TODO: warn about poor color selections\n        // const contrastAsText = Math.abs(APCAcontrast(colorVal, colorToInt(theme.colors.background)))\n        // const minContrast = Math.max(blackContrast, whiteContrast)\n        // if (minContrast < 60) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast (${minContrast.toFixed()}%)`)\n        // } else if (contrastAsText < 60 && !['background', 'surface'].includes(color)) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast as text (${contrastAsText.toFixed()}%)`)\n        // }\n\n        // Prefer white text if both have an acceptable contrast ratio\n        theme.colors[onColor] = whiteContrast > Math.min(blackContrast, 50) ? '#fff' : '#000'\n      }\n\n      obj[name] = theme\n\n      return obj\n    }, {} as Record<string, InternalThemeDefinition>)\n  })\n\n  function genColorVariations (name: string, color: string) {\n    const obj: Record<string, string> = {}\n    for (const variation of (['lighten', 'darken'] as const)) {\n      const fn = variation === 'lighten' ? lighten : darken\n      for (const amount of createRange(variations.value[variation], 1)) {\n        obj[`${name}-${variation}-${amount}`] = intToHex(fn(colorToInt(color), amount))\n      }\n    }\n\n    return obj\n  }\n\n  const styles = computed(() => {\n    const lines = []\n\n    for (const themeName of Object.keys(computedThemes.value)) {\n      const variables = computedThemes.value[themeName].variables\n\n      lines.push(...createCssClass(`.v-theme--${themeName}`, [\n        ...genCssVariables(themeName),\n        ...Object.keys(variables).map(key => {\n          const value = variables[key]\n          const color = typeof value === 'string' && value.startsWith('#') ? colorToRGB(value) : undefined\n          const rgb = color ? `${color.r}, ${color.g}, ${color.b}` : undefined\n\n          return `--v-${key}: ${rgb ?? value}`\n        }),\n      ]))\n    }\n\n    const colors = new Set(Object.values(computedThemes.value).flatMap(theme => Object.keys(theme.colors)))\n    for (const key of colors) {\n      if (/on-[a-z]/.test(key)) {\n        lines.push(...createCssClass(`.${key}`, [`color: rgb(var(--v-theme-${key})) !important`]))\n      } else {\n        lines.push(\n          ...createCssClass(`.bg-${key}`, [\n            `--v-theme-overlay-multiplier: var(--v-theme-${key}-overlay-multiplier)`,\n            `background: rgb(var(--v-theme-${key})) !important`,\n            `color: rgb(var(--v-theme-on-${key})) !important`,\n          ]),\n          ...createCssClass(`.text-${key}`, [`color: rgb(var(--v-theme-${key})) !important`]),\n          ...createCssClass(`.border-${key}`, [`--v-border-color: var(--v-theme-${key})`]),\n        )\n      }\n    }\n\n    return lines.map((str, i) => i === 0 ? str : `    ${str}`).join('')\n  })\n\n  function genCssVariables (name: string) {\n    const theme = computedThemes.value[name]\n\n    if (!theme) throw new Error(`Could not find theme ${name}`)\n\n    const lightOverlay = theme.dark ? 2 : 1\n    const darkOverlay = theme.dark ? 1 : 2\n\n    const variables: string[] = []\n    for (const [key, value] of Object.entries(theme.colors)) {\n      const rgb = colorToRGB(value!)\n      variables.push(`--v-theme-${key}: ${rgb.r},${rgb.g},${rgb.b}`)\n      if (!key.startsWith('on-')) {\n        variables.push(`--v-theme-${key}-overlay-multiplier: ${getLuma(value) > 0.18 ? lightOverlay : darkOverlay}`)\n      }\n    }\n\n    return variables\n  }\n\n  function createCssClass (selector: string, content: string[]) {\n    return [\n      `${selector} {\\n`,\n      ...content.map(line => `  ${line};\\n`),\n      '}\\n',\n    ]\n  }\n\n  if (head) {\n    head.addHeadObjs(computed(() => ({\n      style: [{\n        children: styles.value,\n        type: 'text/css',\n        id: 'vuetify-theme-stylesheet',\n      }],\n    })))\n\n    if (IN_BROWSER) {\n      watchEffect(() => head.updateDOM())\n    }\n  } else {\n    watch(themes, updateStyles, { deep: true, immediate: true })\n\n    function updateStyles () {\n      if (parsedOptions.isDisabled) return\n\n      genStyleElement()\n\n      if (styleEl.value) styleEl.value.innerHTML = styles.value\n    }\n\n    function genStyleElement () {\n      if (typeof document === 'undefined' || styleEl.value) return\n\n      const el = document.createElement('style')\n      el.type = 'text/css'\n      el.id = 'vuetify-theme-stylesheet'\n\n      styleEl.value = el\n      document.head.appendChild(styleEl.value)\n    }\n  }\n\n  return {\n    isDisabled: parsedOptions.isDisabled,\n    themes: computedThemes,\n    setTheme: (key: string, theme: InternalThemeDefinition) => themes.value[key] = theme,\n    getTheme: (key: string) => computedThemes.value[key],\n    current,\n    themeClasses: computed(() => parsedOptions.isDisabled ? undefined : `v-theme--${current.value}`),\n    styles,\n  }\n}\n\nexport function provideTheme (props: { theme?: string }) {\n  getCurrentInstance('provideTheme')\n\n  const theme = inject(ThemeSymbol, null)\n\n  if (!theme) throw new Error('Could not find Vuetify theme injection')\n\n  const current = computed<string>(() => {\n    return props.theme ?? theme?.current.value\n  })\n\n  const themeClasses = computed(() => theme.isDisabled ? undefined : `v-theme--${current.value}`)\n\n  const newTheme: ThemeInstance = {\n    ...theme,\n    current,\n    themeClasses,\n  }\n\n  provide(ThemeSymbol, newTheme)\n\n  return newTheme\n}\n\nexport function useTheme () {\n  getCurrentInstance('useTheme')\n\n  const theme = inject(ThemeSymbol, null)\n\n  if (!theme) throw new Error('Could not find Vuetify theme injection')\n\n  return theme\n}\n"]},"metadata":{},"sourceType":"module"}